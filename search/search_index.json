{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"<p>AI-Friendly Geo routing for Python users, supporting most of the routing tools, including OSRM, Google Maps, Bing Maps, etc. with a unified API.</p> <p></p>"},{"location":"#features","title":"Features","text":"<ul> <li>Support most of the routing services, including Google Maps, Bing Maps, OSRM, etc.</li> <li>Provide a unified API for routing services</li> <li>Support calculating the travel distance matrix between multiple origins and destinations</li> <li>Support calculating the travel distance according to OD pairs.</li> <li>Easy to visualize the routing results</li> <li>Return the travel distance matrix in a Pandas <code>Dataframe</code> you like</li> <li>Return the routing results in a Geopandas <code>GeoDataFrame</code></li> <li>Easy to extend to support more routing services</li> </ul>"},{"location":"#ai-friendly-documentation","title":"AI-Friendly Documentation","text":"<p>Georouting provides LLMs.txt files for seamless integration with AI assistants like Claude, ChatGPT, Cursor, and Windsurf. Use these files to get better AI-powered help when working with georouting:</p> <ul> <li>llms.txt - Concise overview for quick questions</li> <li>llms-full.txt - Complete documentation for comprehensive reference</li> </ul>"},{"location":"#credits","title":"Credits","text":"<p>This package was created with Cookiecutter and the giswqs/pypackage project template.</p>"},{"location":"#licence","title":"Licence","text":"<p>MIT license</p>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#v008-2023-02-11","title":"v0.0.8 - 2023-02-11","text":"<p>Improvement:</p> <ul> <li>improved the documentation</li> </ul> <p>New Features:</p> <ul> <li>added unified API for all routers</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Contributions are welcome, and they are greatly appreciated! Every little bit helps, and credit will always be given.</p> <p>You can contribute in many ways:</p>"},{"location":"contributing/#types-of-contributions","title":"Types of Contributions","text":""},{"location":"contributing/#report-bugs","title":"Report Bugs","text":"<p>Report bugs at https://github.com/wybert/georouting/issues.</p> <p>If you are reporting a bug, please include:</p> <ul> <li>Your operating system name and version.</li> <li>Any details about your local setup that might be helpful in troubleshooting.</li> <li>Detailed steps to reproduce the bug.</li> </ul>"},{"location":"contributing/#fix-bugs","title":"Fix Bugs","text":"<p>Look through the GitHub issues for bugs. Anything tagged with <code>bug</code> and <code>help wanted</code> is open to whoever wants to implement it.</p>"},{"location":"contributing/#implement-features","title":"Implement Features","text":"<p>Look through the GitHub issues for features. Anything tagged with <code>enhancement</code> and <code>help wanted</code> is open to whoever wants to implement it.</p>"},{"location":"contributing/#write-documentation","title":"Write Documentation","text":"<p>georouting could always use more documentation, whether as part of the official georouting docs, in docstrings, or even on the web in blog posts, articles, and such.</p>"},{"location":"contributing/#submit-feedback","title":"Submit Feedback","text":"<p>The best way to send feedback is to file an issue at https://github.com/wybert/georouting/issues.</p> <p>If you are proposing a feature:</p> <ul> <li>Explain in detail how it would work.</li> <li>Keep the scope as narrow as possible, to make it easier to implement.</li> <li>Remember that this is a volunteer-driven project, and that contributions are welcome :)</li> </ul>"},{"location":"contributing/#get-started","title":"Get Started!","text":"<p>Ready to contribute? Here's how to set up georouting for local development.</p> <ol> <li> <p>Fork the georouting repo on GitHub.</p> </li> <li> <p>Clone your fork locally:</p> <pre><code>$ git clone git@github.com:your_name_here/georouting.git\n</code></pre> </li> <li> <p>Install your local copy into a virtualenv. Assuming you have     virtualenvwrapper installed, this is how you set up your fork for     local development:</p> <pre><code>$ mkvirtualenv georouting\n$ cd georouting/\n$ python setup.py develop\n</code></pre> </li> <li> <p>Create a branch for local development:</p> <pre><code>$ git checkout -b name-of-your-bugfix-or-feature\n</code></pre> <p>Now you can make your changes locally.</p> </li> <li> <p>When you're done making changes, check that your changes pass flake8     and the tests, including testing other Python versions with tox:</p> <pre><code>$ flake8 georouting tests\n$ python setup.py test or pytest\n$ tox\n</code></pre> <p>To get flake8 and tox, just pip install them into your virtualenv.</p> </li> <li> <p>Commit your changes and push your branch to GitHub:</p> <pre><code>$ git add .\n$ git commit -m \"Your detailed description of your changes.\"\n$ git push origin name-of-your-bugfix-or-feature\n</code></pre> </li> <li> <p>Submit a pull request through the GitHub website.</p> </li> </ol>"},{"location":"contributing/#pull-request-guidelines","title":"Pull Request Guidelines","text":"<p>Before you submit a pull request, check that it meets these guidelines:</p> <ol> <li>The pull request should include tests.</li> <li>If the pull request adds functionality, the docs should be updated.     Put your new functionality into a function with a docstring, and add     the feature to the list in README.rst.</li> <li>The pull request should work for Python 3.5, 3.6, 3.7 and 3.8, and     for PyPy. Check https://github.com/wybert/georouting/pull_requests and make sure that the tests pass for all     supported Python versions.</li> </ol>"},{"location":"faq/","title":"FAQ","text":""},{"location":"georouting/","title":"Georouting","text":""},{"location":"georouting/#routers","title":"Routers","text":""},{"location":"georouting/#googlerouter","title":"GoogleRouter","text":"<p>Google Map router. The GoogleRouter class is a subclass of the WebRouter class and is used for routing using the Google Maps API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Google Maps API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"georouting/#georouting.routers.google.GoogleRouter--parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Google Maps API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.google.GoogleRouter--returns","title":"Returns","text":"<ul> <li><code>GoogleRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul> Source code in <code>georouting/routers/google.py</code> <pre><code>class GoogleRouter(WebRouter):\n    \"\"\"Google Map router.\n    The GoogleRouter class is a subclass of the WebRouter class and is used for routing using the Google Maps API.\n    This class is designed to provide a convenient and easy-to-use interface for interacting with the Google Maps API.\n\n    It will return a router object that can be used to get routes and distance matrices.\n\n    Parameters\n    ----------\n\n    - `api_key` : str\n        The API key for the Google Maps API.\n\n    - `mode` : str\n        The routing mode. Can be either \"driving\" or \"walking\".\n\n    - `timeout` : int\n        The timeout in seconds for API requests.\n\n    - `language` : str\n        The language to be used in API requests.\n\n    Returns\n    -------\n    - `GoogleRouter`:\n        A router object that can be used to get routes and distance matrices.\n\n    \"\"\"\n\n    def __init__(self, api_key, mode=\"driving\", timeout=10, language=\"en\"):\n        \"\"\"\n        This is the constructor method for the GoogleRouter class.\n        It initializes the class by calling the super() method and setting up\n        the Client object of the Google Maps API using the provided api_key.\n        The mode parameter sets the routing mode, which can be either \"driving\" or \"walking\".\n        The timeout parameter sets the timeout in seconds for API requests, and the language\n        parameter sets the language to be used in API requests.\n        \"\"\"\n        super().__init__(api_key, mode=mode)\n        self.client = googlemaps.Client(key=self.api_key)\n\n    def _get_directions_request(self, origin, destination):\n        \"\"\"\n        This method is a helper method for sending a directions request to the Google Maps API.\n        It takes two parameters, origin and destination, which represent the starting and ending\n        points for the route.\n        \"\"\"\n        return self.client.directions(origin, destination, self.mode)\n\n    def _get_distance_matrix_request(self, origins, destinations):\n        \"\"\"\n        This method is a helper method for sending a distance matrix request to the Google Maps API.\n        It takes two parameters, origins and destinations, which represent the starting and ending\n        points for each pair of routes in the matrix.\n        \"\"\"\n        return self.client.distance_matrix(origins, destinations, self.mode)\n\n    def _parse_distance_matrix(self, json_data):\n        \"\"\"\n        This method is a helper method for parsing the JSON data returned from the Google Maps API\n        in response to a distance matrix request. It takes one parameter, json_data, which is the\n        raw JSON data. The method returns a Pandas dataframe containing the distances and durations\n        for each pair of routes.\n        \"\"\"\n\n        results = []\n        for element in json_data[\"rows\"]:\n            # print(element)\n            # print(element['elements'])\n            for i in element[\"elements\"]:\n                temp = {}\n                temp[\"distance (m)\"] = i[\"distance\"][\"value\"]\n                temp[\"duration (s)\"] = i[\"duration\"][\"value\"]\n                results.append(temp)\n        df = pd.DataFrame(results)\n\n        return df\n\n    def get_route(self, origin, destination):\n        \"\"\"\n        This method returns a Route object representing the route between the origin and destination points.\n        The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route.\n        The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].\n\n        Parameters\n        ----------\n        - `origin` : iterable objects\n            The origin point. Iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude]\n\n        - `destination` : iterable objects\n            The destination point. Iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude]\n\n        Returns\n        -------\n        `route` : Route object\n            The route between the origin and destination.\n\n        The returned Route object has the following functions:\n\n        - `get_distance()` returns the distance of the route in meters.\n        - `get_duration()` returns the duration of the route in seconds.\n        - `get_route()` returns the raw route data returned as a dictionary.\n        - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n        \"\"\"\n\n        route = self._get_directions_request(origin, destination)\n        route = Route(GoogleRoute(route), origin, destination)\n\n        return route\n\n    def get_distance_matrix(self, origins, destinations, append_od=False):\n        \"\"\"\n        This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n        all possible combinations between each origin and each destination. If you want just\n        return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n        The origins and destinations parameters are lists of origins and destinations.\n\n        If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n        Google Maps API has following limitations for distance matrix requests:\n        the following usage limits are in place for the Distance Matrix API, for more information,\n        see in [google maps api documentation](https://developers.google.com/maps/documentation/distance-matrix/usage-limits):\n\n        - Maximum of 25 origins or 25 destinations per request.\n        - Maximum 100 elements per server-side request.\n        - Maximum 100 elements per client-side request.\n        - 1000 elements per second (EPS), calculated as the sum of client-side and server-side queries.\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `append_od` : bool\n            If True, the method also returns a matrix of origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n\n        Here is an example of how to use this method:\n        # TODO: add example\n\n        \"\"\"\n\n        # Check if the origins and destinations parameters are lists\n        # if ther are numpy arrays, convert them to lists\n        origins = gtl.convert_to_list(origins)\n        destinations = gtl.convert_to_list(destinations)\n\n        res = self._get_distance_matrix_request(origins, destinations)\n        df = self._parse_distance_matrix(res)\n        if append_od:\n            od_matrix = super()._get_OD_matrix(origins, destinations)\n            df = pd.concat([od_matrix, df], axis=1)\n        return df\n\n    def get_distances_batch(self, origins, destinations, append_od=False):\n        \"\"\"\n        This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n        The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n        If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `append_od` : bool\n            If True, the method also returns the input origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n\n        \"\"\"\n        return super().get_distances_batch(\n            origins, destinations, max_batch_size=25, append_od=append_od\n        )\n</code></pre>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.__init__","title":"<code>__init__(self, api_key, mode='driving', timeout=10, language='en')</code>  <code>special</code>","text":"<p>This is the constructor method for the GoogleRouter class. It initializes the class by calling the super() method and setting up the Client object of the Google Maps API using the provided api_key. The mode parameter sets the routing mode, which can be either \"driving\" or \"walking\". The timeout parameter sets the timeout in seconds for API requests, and the language parameter sets the language to be used in API requests.</p> Source code in <code>georouting/routers/google.py</code> <pre><code>def __init__(self, api_key, mode=\"driving\", timeout=10, language=\"en\"):\n    \"\"\"\n    This is the constructor method for the GoogleRouter class.\n    It initializes the class by calling the super() method and setting up\n    the Client object of the Google Maps API using the provided api_key.\n    The mode parameter sets the routing mode, which can be either \"driving\" or \"walking\".\n    The timeout parameter sets the timeout in seconds for API requests, and the language\n    parameter sets the language to be used in API requests.\n    \"\"\"\n    super().__init__(api_key, mode=mode)\n    self.client = googlemaps.Client(key=self.api_key)\n</code></pre>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distance_matrix","title":"<code>get_distance_matrix(self, origins, destinations, append_od=False)</code>","text":"<p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p> <p>Google Maps API has following limitations for distance matrix requests: the following usage limits are in place for the Distance Matrix API, for more information, see in google maps api documentation:</p> <ul> <li>Maximum of 25 origins or 25 destinations per request.</li> <li>Maximum 100 elements per server-side request.</li> <li>Maximum 100 elements per client-side request.</li> <li>1000 elements per second (EPS), calculated as the sum of client-side and server-side queries.</li> </ul>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distance_matrix--parameters","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distance_matrix--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> <p>Here is an example of how to use this method:</p>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distance_matrix--todo-add-example","title":"TODO: add example","text":"Source code in <code>georouting/routers/google.py</code> <pre><code>def get_distance_matrix(self, origins, destinations, append_od=False):\n    \"\"\"\n    This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n    all possible combinations between each origin and each destination. If you want just\n    return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n    The origins and destinations parameters are lists of origins and destinations.\n\n    If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n    Google Maps API has following limitations for distance matrix requests:\n    the following usage limits are in place for the Distance Matrix API, for more information,\n    see in [google maps api documentation](https://developers.google.com/maps/documentation/distance-matrix/usage-limits):\n\n    - Maximum of 25 origins or 25 destinations per request.\n    - Maximum 100 elements per server-side request.\n    - Maximum 100 elements per client-side request.\n    - 1000 elements per second (EPS), calculated as the sum of client-side and server-side queries.\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `append_od` : bool\n        If True, the method also returns a matrix of origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n\n    Here is an example of how to use this method:\n    # TODO: add example\n\n    \"\"\"\n\n    # Check if the origins and destinations parameters are lists\n    # if ther are numpy arrays, convert them to lists\n    origins = gtl.convert_to_list(origins)\n    destinations = gtl.convert_to_list(destinations)\n\n    res = self._get_distance_matrix_request(origins, destinations)\n    df = self._parse_distance_matrix(res)\n    if append_od:\n        od_matrix = super()._get_OD_matrix(origins, destinations)\n        df = pd.concat([od_matrix, df], axis=1)\n    return df\n</code></pre>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distances_batch","title":"<code>get_distances_batch(self, origins, destinations, append_od=False)</code>","text":"<p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distances_batch--parameters","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_distances_batch--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> Source code in <code>georouting/routers/google.py</code> <pre><code>def get_distances_batch(self, origins, destinations, append_od=False):\n    \"\"\"\n    This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n    The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n    If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `append_od` : bool\n        If True, the method also returns the input origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n\n    \"\"\"\n    return super().get_distances_batch(\n        origins, destinations, max_batch_size=25, append_od=append_od\n    )\n</code></pre>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_route","title":"<code>get_route(self, origin, destination)</code>","text":"<p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_route--parameters","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"georouting/#georouting.routers.google.GoogleRouter.get_route--returns","title":"Returns","text":"<p><code>route</code> : Route object     The route between the origin and destination.</p> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> Source code in <code>georouting/routers/google.py</code> <pre><code>def get_route(self, origin, destination):\n    \"\"\"\n    This method returns a Route object representing the route between the origin and destination points.\n    The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route.\n    The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].\n\n    Parameters\n    ----------\n    - `origin` : iterable objects\n        The origin point. Iterable objects with two elements, such as\n    (latitude, longitude) or [latitude, longitude]\n\n    - `destination` : iterable objects\n        The destination point. Iterable objects with two elements, such as\n    (latitude, longitude) or [latitude, longitude]\n\n    Returns\n    -------\n    `route` : Route object\n        The route between the origin and destination.\n\n    The returned Route object has the following functions:\n\n    - `get_distance()` returns the distance of the route in meters.\n    - `get_duration()` returns the duration of the route in seconds.\n    - `get_route()` returns the raw route data returned as a dictionary.\n    - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n    \"\"\"\n\n    route = self._get_directions_request(origin, destination)\n    route = Route(GoogleRoute(route), origin, destination)\n\n    return route\n</code></pre>"},{"location":"georouting/#osrmrouter","title":"OSRMRouter","text":"<p>OSRM router. The OSRMRouter class is a subclass of the WebRouter class and is used for routing using the OSRM API. This class is designed to provide a convenient and easy-to-use interface for interacting with the OSRM API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter--parameters","title":"Parameters","text":"<ul> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\". Default is \"driving\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests. Default is 10.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests. Default is \"en\".</p> </li> <li> <p><code>base_url</code> : str     The base URL for the OSRM API. Default is \"http://router.project-osrm.org\".</p> </li> </ul>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter--returns","title":"Returns","text":"<ul> <li><code>OSRMRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul> Source code in <code>georouting/routers/osrm.py</code> <pre><code>class OSRMRouter(WebRouter):\n    \"\"\"\n    OSRM router.\n    The OSRMRouter class is a subclass of the WebRouter class and is used for routing using the OSRM API.\n    This class is designed to provide a convenient and easy-to-use interface for interacting with the OSRM API.\n\n    It will return a router object that can be used to get routes and distance matrices.\n\n    Parameters\n    ----------\n    - `mode` : str\n        The routing mode. Can be either \"driving\" or \"walking\". Default is \"driving\".\n\n    - `timeout` : int\n        The timeout in seconds for API requests. Default is 10.\n\n    - `language` : str\n        The language to be used in API requests. Default is \"en\".\n\n    - `base_url` : str\n        The base URL for the OSRM API. Default is \"http://router.project-osrm.org\".\n\n    Returns\n    -------\n    - `OSRMRouter`:\n        A router object that can be used to get routes and distance matrices.\n\n    \"\"\"\n\n    def __init__(\n        self,\n        mode=\"driving\",\n        timeout=10,\n        language=\"en\",\n        base_url=\"http://router.project-osrm.org\",\n        auto_start_backend=False,\n        backend_runtime=\"docker\",  # or \"singularity\"\n        backend_region=\"north-america/us/massachusetts\",\n        backend_port=5000,\n        backend_tag=\"osrm-backend\",\n        backend_dockerfile=None,\n        backend_context=None,\n        backend_profile=None,\n        backend_base_image=gtl.DEFAULT_OSRM_BASE_IMAGE,\n        backend_sif_path=None,\n        backend_recipe_path=None,\n        backend_instance_name=\"osrm\",\n        backend_extra_run_args=None,\n    ):\n        super().__init__(\n            api_key=None, mode=mode, timeout=timeout, language=language, base_url=None\n        )\n\n        def _mode_to_profile(m):\n            m = m.lower()\n            if m in [\"driving\", \"drive\", \"car\", \"auto\"]:\n                return \"car\"\n            if m in [\"walking\", \"walk\", \"foot\"]:\n                return \"foot\"\n            if m in [\"bicycling\", \"cycling\", \"bike\", \"bicycle\"]:\n                return \"bicycle\"\n            return \"car\"\n\n        if auto_start_backend:\n            profile = backend_profile or _mode_to_profile(mode)\n            try:\n                print(\n                    f\"[osrm] Auto-starting local OSRM backend ({backend_runtime}) for region '{backend_region}' on port {backend_port} (profile: {profile})\"\n                )\n                print(\n                    \"[osrm] Requires Docker/Singularity and sufficient disk/RAM for the region extract.\"\n                )\n                if backend_runtime.lower() == \"docker\":\n                    gtl.build_and_run_osrm(\n                        region=backend_region,\n                        port=backend_port,\n                        tag=backend_tag,\n                        dockerfile_path=backend_dockerfile,\n                        context=backend_context,\n                        auto_fetch=True,\n                        prefer_html=True,\n                        profile=profile,\n                        base_image=backend_base_image,\n                        extra_run_args=backend_extra_run_args,\n                    )\n                    self.base_url = f\"http://localhost:{backend_port}\"\n                    print(f\"[osrm] Local Docker backend started at {self.base_url}\")\n                elif backend_runtime.lower() in [\"singularity\", \"apptainer\"]:\n                    gtl.build_and_run_osrm_singularity(\n                        region=backend_region,\n                        port=backend_port,\n                        sif_path=backend_sif_path,\n                        recipe_path=backend_recipe_path,\n                        auto_fetch=True,\n                        base_image=backend_base_image,\n                        profile=profile,\n                        instance_name=backend_instance_name,\n                        extra_run_args=backend_extra_run_args,\n                    )\n                    self.base_url = f\"http://localhost:{backend_port}\"\n                    print(f\"[osrm] Local Singularity backend started at {self.base_url}\")\n                else:\n                    print(f\"[osrm] Unsupported backend_runtime: {backend_runtime}\")\n                    self.base_url = base_url\n            except Exception as exc:\n                print(\n                    f\"[osrm] Failed to auto-start local backend: {exc}. Falling back to provided base_url.\"\n                )\n                self.base_url = base_url\n        else:\n            self.base_url = base_url\n\n    def _get_directions_url(self, origin, destination):\n        \"\"\"\n        Helper function for getting the URL for a directions request (To request a route\n        between the given origin and destination coordinates).\n        \"\"\"\n        return (\n            \"%s/route/v1/%s/%f,%f;%f,%f?steps=true&amp;annotations=true&amp;geometries=geojson\"\n            % (\n                self.base_url,\n                self.mode,\n                origin[1],\n                origin[0],\n                destination[1],\n                destination[0],\n            )\n        )\n\n    def _get_matrix_distance_url(self, origins, destinations):\n        \"\"\"\n        Helper function for getting the URL for a distance matrix request.\n        Generates the URL to request a distance matrix between the given lists of\n        origins and destinations coordinates.\n        \"\"\"\n\n        # get the need cal location\n        s = (\n            str(list(range(len(origins))))\n            .replace(\",\", \";\")\n            .replace(\"[\", \"\")\n            .replace(\"]\", \"\")\n            .replace(\" \", \"\")\n        )\n        d = (\n            str(list(range(len(origins), len(origins) + len(destinations))))\n            .replace(\",\", \";\")\n            .replace(\"[\", \"\")\n            .replace(\"]\", \"\")\n            .replace(\" \", \"\")\n        )\n\n        origins = [str(item[1]) + \",\" + str(item[0]) for item in origins]\n        destinations = [str(item[1]) + \",\" + str(item[0]) for item in destinations]\n        origins = \";\".join(origins)\n        destinations = \";\".join(destinations)\n\n        url = (\n            \"%s/table/v1/%s/%s;%s?sources=%s&amp;destinations=%s&amp;annotations=duration,distance\"\n            % (self.base_url, self.mode, origins, destinations, s, d)\n        )\n        return url\n\n    def _parse_distance_matrix(self, json_data):\n        \"\"\"\n        Helper function for parsing the distance matrix response.\n        Parses the response from the distance matrix API and returns a dataframe of\n        durations and distances.\n        \"\"\"\n        durations = json_data[\"durations\"]\n        distances = json_data[\"distances\"]\n\n        # flatten the list\n        durations = [item for sublist in durations for item in sublist]\n        distances = [item for sublist in distances for item in sublist]\n\n        # combine the dutation and destinations list to a dataframe\n        # print(len(durations), len(distances))\n        df = pd.DataFrame({\"distance (m)\": distances, \"duration (s)\": durations})\n\n        return df\n\n    def get_route(self, origin, destination):\n        \"\"\"\n        This method returns a Route object contains duration and disatnce for the route between the given origin and destination coordinates.\n        The origin and destination parameters are lists of latitude and longitude coordinates.\n        The orgin and destination parameters should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n        Parameters\n        ----------\n        - `origin` : iterable objects\n            The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n        - `destination` : iterable objects\n            The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n        Returns\n        -------\n        - `route` : Route object\n            The route between the origin and destination.\n\n        The returned Route object has the following functions:\n\n        - `get_distance()` returns the distance of the route in meters.\n        - `get_duration()` returns the duration of the route in seconds.\n        - `get_route()` returns the raw route data returned as a dictionary.\n        - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n\n        \"\"\"\n        url = self._get_directions_url(origin, destination)\n        route = super()._get_request(url)\n        route = Route(OSRMRoute(route), origin, destination)\n        return route\n\n    def get_distance_matrix(self, origins, destinations, append_od=False):\n        \"\"\"\n        This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n        all possible combinations between each origin and each destination. If you want just\n        return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n        The origins and destinations parameters are lists of origins and destinations.\n\n        If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `append_od` : bool\n            If True, the method also returns a matrix of origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n\n        Here is an example of how to use this method:\n        # TODO: add example\n        \"\"\"\n        # check if the origins and destinations are numpy arrays\n        # if so, convert them to lists\n\n        origins = gtl.convert_to_list(origins)\n        destinations = gtl.convert_to_list(destinations)\n\n        url = self._get_matrix_distance_url(origins, destinations)\n        res = super()._get_request(url)\n        distance_matrix = self._parse_distance_matrix(res)\n        if append_od:\n            od_matrix = super()._get_OD_matrix(origins, destinations)\n            distance_matrix = pd.concat([od_matrix, distance_matrix], axis=1)\n\n        return distance_matrix\n\n    def get_distances_batch(\n        self, origins, destinations, append_od=False, use_local_server=False\n    ):\n        \"\"\"\n        This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n        The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n        If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `append_od` : bool\n            If True, the method also returns the input origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n\n        \"\"\"\n        if use_local_server:\n            df = super().get_distances_batch(\n                origins, destinations, max_batch_size=np.infty, append_od=append_od\n            )\n        else:\n            df = super().get_distances_batch(\n                origins, destinations, max_batch_size=100, append_od=append_od\n            )\n        return df\n</code></pre>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distance_matrix","title":"<code>get_distance_matrix(self, origins, destinations, append_od=False)</code>","text":"<p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distance_matrix--parameters","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distance_matrix--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> <p>Here is an example of how to use this method:</p>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distance_matrix--todo-add-example","title":"TODO: add example","text":"Source code in <code>georouting/routers/osrm.py</code> <pre><code>def get_distance_matrix(self, origins, destinations, append_od=False):\n    \"\"\"\n    This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n    all possible combinations between each origin and each destination. If you want just\n    return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n    The origins and destinations parameters are lists of origins and destinations.\n\n    If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `append_od` : bool\n        If True, the method also returns a matrix of origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n\n    Here is an example of how to use this method:\n    # TODO: add example\n    \"\"\"\n    # check if the origins and destinations are numpy arrays\n    # if so, convert them to lists\n\n    origins = gtl.convert_to_list(origins)\n    destinations = gtl.convert_to_list(destinations)\n\n    url = self._get_matrix_distance_url(origins, destinations)\n    res = super()._get_request(url)\n    distance_matrix = self._parse_distance_matrix(res)\n    if append_od:\n        od_matrix = super()._get_OD_matrix(origins, destinations)\n        distance_matrix = pd.concat([od_matrix, distance_matrix], axis=1)\n\n    return distance_matrix\n</code></pre>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distances_batch","title":"<code>get_distances_batch(self, origins, destinations, append_od=False, use_local_server=False)</code>","text":"<p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distances_batch--parameters","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_distances_batch--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> Source code in <code>georouting/routers/osrm.py</code> <pre><code>def get_distances_batch(\n    self, origins, destinations, append_od=False, use_local_server=False\n):\n    \"\"\"\n    This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n    The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n    If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `append_od` : bool\n        If True, the method also returns the input origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n\n    \"\"\"\n    if use_local_server:\n        df = super().get_distances_batch(\n            origins, destinations, max_batch_size=np.infty, append_od=append_od\n        )\n    else:\n        df = super().get_distances_batch(\n            origins, destinations, max_batch_size=100, append_od=append_od\n        )\n    return df\n</code></pre>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_route","title":"<code>get_route(self, origin, destination)</code>","text":"<p>This method returns a Route object contains duration and disatnce for the route between the given origin and destination coordinates. The origin and destination parameters are lists of latitude and longitude coordinates. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_route--parameters","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"georouting/#georouting.routers.osrm.OSRMRouter.get_route--returns","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> Source code in <code>georouting/routers/osrm.py</code> <pre><code>def get_route(self, origin, destination):\n    \"\"\"\n    This method returns a Route object contains duration and disatnce for the route between the given origin and destination coordinates.\n    The origin and destination parameters are lists of latitude and longitude coordinates.\n    The orgin and destination parameters should be in the form of iterable objects with two elements, such as\n    (latitude, longitude) or [latitude, longitude].\n\n    Parameters\n    ----------\n    - `origin` : iterable objects\n        The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n    - `destination` : iterable objects\n        The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n    Returns\n    -------\n    - `route` : Route object\n        The route between the origin and destination.\n\n    The returned Route object has the following functions:\n\n    - `get_distance()` returns the distance of the route in meters.\n    - `get_duration()` returns the duration of the route in seconds.\n    - `get_route()` returns the raw route data returned as a dictionary.\n    - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n\n    \"\"\"\n    url = self._get_directions_url(origin, destination)\n    route = super()._get_request(url)\n    route = Route(OSRMRoute(route), origin, destination)\n    return route\n</code></pre>"},{"location":"georouting/#bingrouter","title":"BingRouter","text":"<p>Bing Maps router. The BingRouter class is a subclass of the WebRouter class and is used for routing using the Bing Maps API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Bing Maps API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"georouting/#georouting.routers.bing.BingRouter--parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Bing Maps API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.bing.BingRouter--returns","title":"Returns","text":"<ul> <li><code>BingRouter</code> :     A router object that can be used to get routes and distance matrices.</li> </ul> Source code in <code>georouting/routers/bing.py</code> <pre><code>class BingRouter(WebRouter):\n    \"\"\"\n    Bing Maps router.\n    The BingRouter class is a subclass of the WebRouter class and is used for routing using the Bing Maps API.\n    This class is designed to provide a convenient and easy-to-use interface for interacting with the Bing Maps API.\n\n    It will return a router object that can be used to get routes and distance matrices.\n\n    Parameters\n    ----------\n\n    - `api_key` : str\n        The API key for the Bing Maps API.\n\n    - `mode` : str\n        The routing mode. Can be either \"driving\" or \"walking\".\n\n    - `timeout` : int\n        The timeout in seconds for API requests.\n\n    - `language` : str\n        The language to be used in API requests.\n\n\n    Returns\n    -------\n    - `BingRouter` :\n        A router object that can be used to get routes and distance matrices.\n\n    \"\"\"\n\n    def __init__(self, api_key, mode=\"driving\", timeout=10, language=\"en\"):\n        super().__init__(api_key, mode=mode, timeout=timeout, language=language)\n        self.base_url = \"https://dev.virtualearth.net/REST/v1/Routes/\"\n\n    def _get_directions_url(self, origin, destination):\n        \"\"\"\n        Helper function for getting the URL for a directions request.\n        \"\"\"\n\n        return \"%s%s?wp.0=%f,%f&amp;wp.1=%f,%f&amp;routeAttributes=routePath&amp;key=%s\" % (\n            self.base_url,\n            self.mode,\n            origin[0],\n            origin[1],\n            destination[0],\n            destination[1],\n            self.api_key,\n        )\n\n    def _get_matrix_distance_url(self, origins, destinations):\n        \"\"\"\n        Helper function for getting the URL for a distance matrix request.\n        \"\"\"\n\n        origins = [str(item[0]) + \",\" + str(item[1]) for item in origins]\n        destinations = [str(item[0]) + \",\" + str(item[1]) for item in destinations]\n        origins = \";\".join(origins)\n        destinations = \";\".join(destinations)\n        return (\n            \"%sDistanceMatrix?origins=%s&amp;destinations=%s&amp;travelMode=%s&amp;timeUnit=second&amp;distanceUnit=kilometer&amp;key=%s\"\n            % (self.base_url, origins, destinations, self.mode, self.api_key)\n        )\n\n    def _parse_distance_matrix(self, json_data):\n        \"\"\"\n        Helper function for parsing the response from a distance matrix request.\n        \"\"\"\n\n        df = pd.DataFrame(json_data[\"resourceSets\"][0][\"resources\"][0][\"results\"])\n        df = df[[\"travelDistance\", \"travelDuration\"]]\n        # convert from kilometers to meters\n        df[\"travelDistance\"] = df[\"travelDistance\"] * 1000\n        df.columns = [\"distance (m)\", \"duration (s)\"]\n        return df\n\n    def get_route(self, origin, destination):\n        \"\"\"\n        This method returns a Route object representing the route between the origin and destination points.\n        The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route.\n        The orgin and destination parameters should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n        Parameters\n        ----------\n        - `origin` : iterable objects\n            The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n        - `destination` : iterable objects\n            The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n        Returns\n        -------\n        - `route` : Route object\n            The route between the origin and destination.\n\n        The returned Route object has the following functions:\n\n        - `get_distance()` returns the distance of the route in meters.\n        - `get_duration()` returns the duration of the route in seconds.\n        - `get_route()` returns the raw route data returned as a dictionary.\n        - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n\n        \"\"\"\n\n        url = self._get_directions_url(origin, destination)\n        route = super()._get_request(url)\n        route = Route(BingRoute(route), origin, destination)\n        return route\n\n    def get_distance_matrix(self, origins, destinations, append_od=False):\n        \"\"\"\n        This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n        all possible combinations between each origin and each destination. If you want just\n        return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n        The origins and destinations parameters are lists of origins and destinations.\n\n        If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n        The Bing Maps API has the following limitations for distance matrix requests,\n        for more information see [here](https://learn.microsoft.com/en-us/bingmaps/rest-services/routes/calculate-a-distance-matrix#api-limits):\n\n        - For travel mode driving a distance matrix that has up to 2,500 origins-destinations pairs can be requested for Basic Bing Maps accounts,\n        - while for Enterprise Bing Maps accounts the origin-destination pairs limit is 10,000.\n        - For travel mode transit and walking, a distance matrix that has up to 650 origins-destinations pairs can be request for all Bing Maps account types.\n\n        Pairs are calculated by multiplying the number of origins, by the number of destinations.\n        For example 10,000 origin-destination pairs can be reached if you have: 1 origin, and 10,000 destinations,\n        or 100 origins and 100 destinations defined in your request.\n\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n        - `append_od` : bool\n            If True, the method also returns a matrix of origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n        \"\"\"\n\n        # check if the origins and destinations is numpy array\n        # if so, convert it to list\n        origins = gtl.convert_to_list(origins)\n        destinations = gtl.convert_to_list(destinations)\n\n        url = self._get_matrix_distance_url(origins, destinations)\n        res = super()._get_request(url)\n        distance_matrix = self._parse_distance_matrix(res)\n        if append_od:\n            od_matrix = super()._get_OD_matrix(origins, destinations)\n            distance_matrix = pd.concat([od_matrix, distance_matrix], axis=1)\n\n        return distance_matrix\n\n    def get_distances_batch(self, origins, destinations, append_od=False):\n        \"\"\"\n        This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n        The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n        If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n        Parameters\n        ----------\n        - `origins` : iterable objects\n            An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `destinations` : iterable objects\n            An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n            It should be in the form of iterable objects with two elements, such as\n            (latitude, longitude) or [latitude, longitude].\n\n        - `append_od` : bool\n            If True, the method also returns the input origin-destination pairs.\n\n        Returns\n        -------\n        - `distance_matrix` : pandas.DataFrame\n            A pandas DataFrame containing the distance matrix.\n\n        \"\"\"\n        return super().get_distances_batch(\n            origins, destinations, max_batch_size=650, append_od=append_od\n        )\n</code></pre>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distance_matrix","title":"<code>get_distance_matrix(self, origins, destinations, append_od=False)</code>","text":"<p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p> <p>The Bing Maps API has the following limitations for distance matrix requests, for more information see here:</p> <ul> <li>For travel mode driving a distance matrix that has up to 2,500 origins-destinations pairs can be requested for Basic Bing Maps accounts,</li> <li>while for Enterprise Bing Maps accounts the origin-destination pairs limit is 10,000.</li> <li>For travel mode transit and walking, a distance matrix that has up to 650 origins-destinations pairs can be request for all Bing Maps account types.</li> </ul> <p>Pairs are calculated by multiplying the number of origins, by the number of destinations. For example 10,000 origin-destination pairs can be reached if you have: 1 origin, and 10,000 destinations, or 100 origins and 100 destinations defined in your request.</p>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distance_matrix--parameters","title":"Parameters","text":"<ul> <li><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</li> <li><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</li> <li><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</li> </ul>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distance_matrix--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> Source code in <code>georouting/routers/bing.py</code> <pre><code>def get_distance_matrix(self, origins, destinations, append_od=False):\n    \"\"\"\n    This method returns a Pandas dataframe representing a distance matrix between the `origins` and `destinations` points. It returns the duration and distance for\n    all possible combinations between each origin and each destination. If you want just\n    return the duration and distance for specific origin-destination pairs, use the `get_distances_batch` method.\n\n    The origins and destinations parameters are lists of origins and destinations.\n\n    If the `append_od` parameter is set to True, the method also returns a matrix of origin-destination pairs.\n\n    The Bing Maps API has the following limitations for distance matrix requests,\n    for more information see [here](https://learn.microsoft.com/en-us/bingmaps/rest-services/routes/calculate-a-distance-matrix#api-limits):\n\n    - For travel mode driving a distance matrix that has up to 2,500 origins-destinations pairs can be requested for Basic Bing Maps accounts,\n    - while for Enterprise Bing Maps accounts the origin-destination pairs limit is 10,000.\n    - For travel mode transit and walking, a distance matrix that has up to 650 origins-destinations pairs can be request for all Bing Maps account types.\n\n    Pairs are calculated by multiplying the number of origins, by the number of destinations.\n    For example 10,000 origin-destination pairs can be reached if you have: 1 origin, and 10,000 destinations,\n    or 100 origins and 100 destinations defined in your request.\n\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n    - `append_od` : bool\n        If True, the method also returns a matrix of origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n    \"\"\"\n\n    # check if the origins and destinations is numpy array\n    # if so, convert it to list\n    origins = gtl.convert_to_list(origins)\n    destinations = gtl.convert_to_list(destinations)\n\n    url = self._get_matrix_distance_url(origins, destinations)\n    res = super()._get_request(url)\n    distance_matrix = self._parse_distance_matrix(res)\n    if append_od:\n        od_matrix = super()._get_OD_matrix(origins, destinations)\n        distance_matrix = pd.concat([od_matrix, distance_matrix], axis=1)\n\n    return distance_matrix\n</code></pre>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distances_batch","title":"<code>get_distances_batch(self, origins, destinations, append_od=False)</code>","text":"<p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distances_batch--parameters","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_distances_batch--returns","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> Source code in <code>georouting/routers/bing.py</code> <pre><code>def get_distances_batch(self, origins, destinations, append_od=False):\n    \"\"\"\n    This method returns a Pandas dataframe contains duration and disatnce for all the `origins` and `destinations` pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.\n\n    The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.\n\n    If the `append_od` parameter is set to True, the method also returns the input origin-destination pairs.\n\n    Parameters\n    ----------\n    - `origins` : iterable objects\n        An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `destinations` : iterable objects\n        An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.\n        It should be in the form of iterable objects with two elements, such as\n        (latitude, longitude) or [latitude, longitude].\n\n    - `append_od` : bool\n        If True, the method also returns the input origin-destination pairs.\n\n    Returns\n    -------\n    - `distance_matrix` : pandas.DataFrame\n        A pandas DataFrame containing the distance matrix.\n\n    \"\"\"\n    return super().get_distances_batch(\n        origins, destinations, max_batch_size=650, append_od=append_od\n    )\n</code></pre>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_route","title":"<code>get_route(self, origin, destination)</code>","text":"<p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_route--parameters","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"georouting/#georouting.routers.bing.BingRouter.get_route--returns","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> Source code in <code>georouting/routers/bing.py</code> <pre><code>def get_route(self, origin, destination):\n    \"\"\"\n    This method returns a Route object representing the route between the origin and destination points.\n    The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route.\n    The orgin and destination parameters should be in the form of iterable objects with two elements, such as\n    (latitude, longitude) or [latitude, longitude].\n\n    Parameters\n    ----------\n    - `origin` : iterable objects\n        The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n    - `destination` : iterable objects\n        The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]\n\n    Returns\n    -------\n    - `route` : Route object\n        The route between the origin and destination.\n\n    The returned Route object has the following functions:\n\n    - `get_distance()` returns the distance of the route in meters.\n    - `get_duration()` returns the duration of the route in seconds.\n    - `get_route()` returns the raw route data returned as a dictionary.\n    - `get_route_geodataframe()` returns the route as a GeoDataFrame.\n\n    \"\"\"\n\n    url = self._get_directions_url(origin, destination)\n    route = super()._get_request(url)\n    route = Route(BingRoute(route), origin, destination)\n    return route\n</code></pre>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#stable-release","title":"Stable release","text":""},{"location":"installation/#using-pip","title":"Using pip","text":"<p>To install georouting, run this command in your terminal:</p> <pre><code>pip install georouting\n</code></pre> <p>or install from GitHub source</p> <pre><code>pip install git+https://github.com/wybert/georouting.git\n</code></pre> <p>If you don't have pip installed, this Python installation guide can guide you through the process.</p>"},{"location":"installation/#using-conda","title":"Using conda","text":"<pre><code>conda install -c conda-forge georouting\n</code></pre> <p>or use mamba</p> <pre><code>mamba install -c conda-forge georouting\n</code></pre>"},{"location":"installation/#from-sources","title":"From sources","text":"<p>The sources for georouting can be downloaded from the Github repo.</p> <p>You can clone the public repository:</p> <pre><code>git clone git://github.com/wybert/georouting\n</code></pre> <p>Then install it with:</p> <pre><code>python setup.py install\n</code></pre>"},{"location":"installation/#dependencies","title":"Dependencies","text":"<p>georouting requires:</p> <ul> <li>Python (&gt;=3.9 and \u22643.13)</li> <li>pandas</li> <li>geopandas</li> <li>requests</li> <li>numpy</li> <li>shapely</li> <li>pyproj</li> </ul>"},{"location":"llms-txt/","title":"LLMs.txt","text":"<p>Georouting provides LLMs.txt files to help AI assistants understand and work with our library more effectively.</p>"},{"location":"llms-txt/#what-is-llmstxt","title":"What is LLMs.txt?","text":"<p>LLMs.txt is a structured documentation format specifically designed for large language models (LLMs). It provides AI assistants with concise, well-organized information about georouting, enabling them to give you more accurate and helpful responses when working with the library.</p> <p>Learn more about the standard at llmstxt.org.</p>"},{"location":"llms-txt/#available-files","title":"Available Files","text":"File Description Size llms.txt Concise overview with installation, quick start, features, and API links ~2KB llms-full.txt Complete documentation compiled from all sources ~55KB"},{"location":"llms-txt/#choosing-the-right-file","title":"Choosing the Right File","text":"<ul> <li> <p>Use <code>llms.txt</code> for most tasks - It fits within standard context windows and provides enough information for common questions about installation, basic usage, and API navigation.</p> </li> <li> <p>Use <code>llms-full.txt</code> when you need comprehensive reference - Use this for detailed API documentation, advanced usage patterns, or when working with AI tools that support large context windows (200K+ tokens).</p> </li> </ul>"},{"location":"llms-txt/#usage-with-ai-tools","title":"Usage with AI Tools","text":""},{"location":"llms-txt/#claude-chatgpt-and-other-ai-assistants","title":"Claude, ChatGPT, and other AI Assistants","text":"<p>Include the URL directly in your prompt:</p> <pre><code>Using georouting documentation from https://wybert.github.io/georouting/llms.txt,\nhelp me calculate driving distances between multiple locations.\n</code></pre> <p>Or for comprehensive documentation:</p> <pre><code>Reference https://wybert.github.io/georouting/llms-full.txt to help me\nimplement a custom router for georouting.\n</code></pre>"},{"location":"llms-txt/#cursor","title":"Cursor","text":"<p>Use <code>@Docs</code> to add the llms.txt URL to your workspace:</p> <ol> <li>Open Cursor Settings &gt; Features &gt; Docs</li> <li>Add a new doc with URL: <code>https://wybert.github.io/georouting/llms.txt</code></li> <li>Reference it in chat using <code>@Docs</code></li> </ol>"},{"location":"llms-txt/#windsurf","title":"Windsurf","text":"<p>Add the documentation to your cascade:</p> <ol> <li>Use <code>@docs</code> in the chat</li> <li>Add the URL: <code>https://wybert.github.io/georouting/llms.txt</code></li> </ol>"},{"location":"llms-txt/#claude-code","title":"Claude Code","text":"<p>When using Claude Code, you can reference the documentation:</p> <pre><code>Fetch https://wybert.github.io/georouting/llms.txt and help me\ncreate a distance matrix using OSRM.\n</code></pre>"},{"location":"llms-txt/#example-prompts","title":"Example Prompts","text":"<p>Here are some example prompts you can use with AI assistants:</p> <p>Basic usage: <pre><code>Using https://wybert.github.io/georouting/llms.txt, show me how to\nget driving directions between Boston and New York using OSRM.\n</code></pre></p> <p>API exploration: <pre><code>Reference https://wybert.github.io/georouting/llms-full.txt and explain\nthe difference between get_distance_matrix and get_distances_batch.\n</code></pre></p> <p>Integration help: <pre><code>Using georouting docs from https://wybert.github.io/georouting/llms.txt,\nhelp me integrate Google Maps routing into my Flask application.\n</code></pre></p>"},{"location":"llms-txt/#regenerating-llmstxt-files","title":"Regenerating LLMs.txt Files","text":"<p>If you're contributing to georouting and need to update the documentation:</p> <pre><code># Regenerate llms-full.txt from all documentation\npython generate_llms_full.py\n</code></pre> <p>The <code>llms.txt</code> file is manually maintained to keep it concise and focused.</p>"},{"location":"usage/","title":"Usage","text":"In\u00a0[\u00a0]: Copied! <pre>pip install georouting\n</pre> pip install georouting In\u00a0[1]: Copied! <pre>import pandas as pd\ndata = pd.read_csv(\n    \"https://raw.githubusercontent.com/wybert/georouting/main/docs/data/sample_3.csv\",\n    index_col=0)\ndata = data[['ZIP_lat', 'ZIP_lon', 'AHA_ID_lat', 'AHA_ID_lon']]\ndata.head()\n</pre> import pandas as pd data = pd.read_csv(     \"https://raw.githubusercontent.com/wybert/georouting/main/docs/data/sample_3.csv\",     index_col=0) data = data[['ZIP_lat', 'ZIP_lon', 'AHA_ID_lat', 'AHA_ID_lon']] data.head() Out[1]: ZIP_lat ZIP_lon AHA_ID_lat AHA_ID_lon 6010 42.376239 -72.605400 42.819978 -73.916518 5333 42.293923 -72.967189 41.753841 -72.682788 7678 42.158520 -72.585325 40.709320 -74.212500 In\u00a0[2]: Copied! <pre>origin = [data.iloc[2][\"ZIP_lat\"],data.iloc[2][\"ZIP_lon\"]]\ndestination = [data.iloc[2][\"AHA_ID_lat\"],data.iloc[2][\"AHA_ID_lon\"]]\n\norigins = data[['ZIP_lat', 'ZIP_lon']].values.tolist()\ndestinations = data[['AHA_ID_lat', 'AHA_ID_lon']].values.tolist()\n</pre> origin = [data.iloc[2][\"ZIP_lat\"],data.iloc[2][\"ZIP_lon\"]] destination = [data.iloc[2][\"AHA_ID_lat\"],data.iloc[2][\"AHA_ID_lon\"]]  origins = data[['ZIP_lat', 'ZIP_lon']].values.tolist() destinations = data[['AHA_ID_lat', 'AHA_ID_lon']].values.tolist() <p>Get a route between two points is easy,</p> In\u00a0[3]: Copied! <pre>from georouting.routers import OSRMRouter\n# create a router object \nrouter = OSRMRouter(mode=\"driving\")\n# get the route between the origin and destination, this will return a Route object\n# this will call the OSRM API\nroute = router.get_route(origin, destination)\n# Now you can get the distance and duration of the route in meters and seconds\nprint(\"Distance: {} meters\".format(route.get_distance()))\nprint(\"Duration: {} seconds\".format(route.get_duration()))\n</pre> from georouting.routers import OSRMRouter # create a router object  router = OSRMRouter(mode=\"driving\") # get the route between the origin and destination, this will return a Route object # this will call the OSRM API route = router.get_route(origin, destination) # Now you can get the distance and duration of the route in meters and seconds print(\"Distance: {} meters\".format(route.get_distance())) print(\"Duration: {} seconds\".format(route.get_duration())) <pre>Distance: 268234.5 meters\nDuration: 12313.4 seconds\n</pre> <p>You can easily get the distance, duration.</p> <p>You can also return the routing results in a GeoDataFrame, It will return the distance, duration, speed and the route geometry,</p> In\u00a0[4]: Copied! <pre>df= route.get_route_geopandas()\ndf.head()\n</pre> df= route.get_route_geopandas() df.head() Out[4]: geometry duration (s) distance (m) speed (m/s) 0 LINESTRING (-72.58532 42.15852, -72.58523 42.1... 22.6 279.5 12.367257 1 LINESTRING (-72.58194 42.15850, -72.58194 42.1... 12.3 163.2 13.268293 2 LINESTRING (-72.58090 42.15734, -72.58092 42.1... 128.2 1929.9 15.053822 3 LINESTRING (-72.58196 42.14028, -72.58205 42.1... 111.8 1703.5 15.237030 4 LINESTRING (-72.58437 42.12533, -72.58492 42.1... 98.1 1783.3 18.178389 <p>You can visualize the route in a map,</p> In\u00a0[5]: Copied! <pre>route.plot_route()\n</pre> route.plot_route() Out[5]: Make this Notebook Trusted to load map: File -&gt; Trust Notebook In\u00a0[6]: Copied! <pre>distance_matrix = router.get_distance_matrix(origins, destinations, append_od=True)\ndistance_matrix.head()\n</pre> distance_matrix = router.get_distance_matrix(origins, destinations, append_od=True) distance_matrix.head() Out[6]: orgin_lat orgin_lon destination_lat destination_lon distance (m) duration (s) 0 42.376239 -72.605400 42.819978 -73.916518 185141.8 8639.8 1 42.376239 -72.605400 41.753841 -72.682788 82634.6 4058.1 2 42.376239 -72.605400 40.709320 -74.212500 300008.0 13819.9 3 42.293923 -72.967189 42.819978 -73.916518 126934.5 6829.4 4 42.293923 -72.967189 41.753841 -72.682788 90821.8 5550.6 <p>Sometimes you may want to get the durations and distances for some specific origin-destination pairs not for all possible combinations between them. you can use the <code>get_distances_batch</code> function.</p> In\u00a0[7]: Copied! <pre>distances = router.get_distances_batch(origins, destinations, append_od=True)\ndistances\n</pre> distances = router.get_distances_batch(origins, destinations, append_od=True) distances Out[7]: origin_lat origin_lon destination_lat destination_lon distance (m) duration (s) 0 42.376239 -72.605400 42.819978 -73.916518 185141.8 8639.8 0 42.293923 -72.967189 41.753841 -72.682788 90821.8 5550.6 0 42.158520 -72.585325 40.709320 -74.212500 268234.5 12313.4 <p>It will automatically split the OD pairs into batches and get the distance matrix for each batch to avoid the API limit.</p> <p><code>georouting</code> provides a unified API for routing services, you can use the similar code to get the routing results from different routing services like Google Maps, Bing Maps, OSRM, etc.</p>"},{"location":"usage/#usage","title":"Usage\u00b6","text":""},{"location":"usage/#prepare-some-data","title":"Prepare some data\u00b6","text":""},{"location":"usage/#get-a-route-use-osrm","title":"Get a route use OSRM\u00b6","text":""},{"location":"usage/#get-a-distance-matrix","title":"Get a distance matrix\u00b6","text":""},{"location":"usage/#get-distances-according-od-pairs","title":"Get distances according OD pairs\u00b6","text":""},{"location":"usage/#whats-more","title":"What's more\u00b6","text":""},{"location":"usage_/","title":"Usage","text":"<pre><code>pip install georouting\n</code></pre>"},{"location":"usage_/#prepare-some-data","title":"Prepare some data","text":"<pre><code>import pandas as pd\ndata = pd.read_csv(\n    \"https://raw.githubusercontent.com/wybert/georouting/main/docs/data/sample_3.csv\",\n    index_col=0)\ndata = data[['ZIP_lat', 'ZIP_lon', 'AHA_ID_lat', 'AHA_ID_lon']]\ndata.head()\n</code></pre> ZIP_lat ZIP_lon AHA_ID_lat AHA_ID_lon 6010 42.376239 -72.605400 42.819978 -73.916518 5333 42.293923 -72.967189 41.753841 -72.682788 7678 42.158520 -72.585325 40.709320 -74.212500 <pre><code>origin = [data.iloc[2][\"ZIP_lat\"],data.iloc[2][\"ZIP_lon\"]]\ndestination = [data.iloc[2][\"AHA_ID_lat\"],data.iloc[2][\"AHA_ID_lon\"]]\n\norigins = data[['ZIP_lat', 'ZIP_lon']].values.tolist()\ndestinations = data[['AHA_ID_lat', 'AHA_ID_lon']].values.tolist()\n</code></pre>"},{"location":"usage_/#get-a-route-use-osrm","title":"Get a route use OSRM","text":"<p>Get a route between two points is easy, </p> <pre><code>from georouting.routers import OSRMRouter\n# create a router object \nrouter = OSRMRouter(mode=\"driving\")\n# get the route between the origin and destination, this will return a Route object\n# this will call the OSRM API\nroute = router.get_route(origin, destination)\n# Now you can get the distance and duration of the route in meters and seconds\nprint(\"Distance: {} meters\".format(route.get_distance()))\nprint(\"Duration: {} seconds\".format(route.get_duration()))\n</code></pre> <pre><code>Distance: 268234.5 meters\nDuration: 12313.4 seconds\n</code></pre> <p>You can easily get the distance, duration.</p> <p>You can also return the routing results in a GeoDataFrame, It will return the distance, duration, speed and the route geometry,</p> <pre><code>df= route.get_route_geopandas()\ndf.head()\n</code></pre> geometry duration (s) distance (m) speed (m/s) 0 LINESTRING (-72.58532 42.15852, -72.58523 42.1... 22.6 279.5 12.367257 1 LINESTRING (-72.58194 42.15850, -72.58194 42.1... 12.3 163.2 13.268293 2 LINESTRING (-72.58090 42.15734, -72.58092 42.1... 128.2 1929.9 15.053822 3 LINESTRING (-72.58196 42.14028, -72.58205 42.1... 111.8 1703.5 15.237030 4 LINESTRING (-72.58437 42.12533, -72.58492 42.1... 98.1 1783.3 18.178389 <p>You can visualize the route in a map,</p> <pre><code>route.plot_route()\n</code></pre> <p>[Interactive map - view in Jupyter notebook]</p>"},{"location":"usage_/#get-a-distance-matrix","title":"Get a distance matrix","text":"<pre><code>distance_matrix = router.get_distance_matrix(origins, destinations, append_od=True)\ndistance_matrix.head()\n</code></pre> orgin_lat orgin_lon destination_lat destination_lon distance (m) duration (s) 0 42.376239 -72.605400 42.819978 -73.916518 185141.8 8639.8 1 42.376239 -72.605400 41.753841 -72.682788 82634.6 4058.1 2 42.376239 -72.605400 40.709320 -74.212500 300008.0 13819.9 3 42.293923 -72.967189 42.819978 -73.916518 126934.5 6829.4 4 42.293923 -72.967189 41.753841 -72.682788 90821.8 5550.6"},{"location":"usage_/#get-distances-according-od-pairs","title":"Get distances according OD pairs","text":"<p>Sometimes you may want to get the durations and distances for some specific origin-destination pairs not for all possible combinations between them. you can use the <code>get_distances_batch</code> function. </p> <pre><code>distances = router.get_distances_batch(origins, destinations, append_od=True)\ndistances\n</code></pre> origin_lat origin_lon destination_lat destination_lon distance (m) duration (s) 0 42.376239 -72.605400 42.819978 -73.916518 185141.8 8639.8 0 42.293923 -72.967189 41.753841 -72.682788 90821.8 5550.6 0 42.158520 -72.585325 40.709320 -74.212500 268234.5 12313.4 <p>It will automatically split the OD pairs into batches and get the distance matrix for each batch to avoid the API limit.</p>"},{"location":"usage_/#whats-more","title":"What's more","text":"<p><code>georouting</code> provides a unified API for routing services, you can use the similar code to get the routing results from different routing services like Google Maps, Bing Maps, OSRM, etc.</p>"},{"location":"workflows/","title":"GitHub Workflows","text":""},{"location":"workflows/#build-and-unityml","title":"build-and-unit.yml","text":"<ul> <li>Triggers: <code>push</code> and <code>pull_request</code> on <code>main</code>.</li> <li>Purpose: Install dependencies and run fast, deterministic tests without hitting external routing APIs (<code>pytest -m \"not integration\"</code>). Sets <code>RUN_REMOTE_ROUTER_TESTS=false</code> so remote calls are skipped.</li> <li>Secrets: None. Safe for forks and regular PRs.</li> <li>Notes: If you add new tests that call real services, mark them with <code>@pytest.mark.integration</code> so they stay out of this workflow.</li> </ul>"},{"location":"workflows/#integration-remoteyml","title":"integration-remote.yml","text":"<ul> <li>Triggers: <code>workflow_dispatch</code> (manual from GitHub Actions UI).</li> <li>Purpose: Run live integration tests that call external routing providers. Sets <code>RUN_REMOTE_ROUTER_TESTS=true</code> and executes <code>pytest -m \"integration\"</code>.</li> <li>Secrets: Requires provider API keys (<code>GOOGLE_KEY</code>, <code>BING_KEY</code>, <code>ESRI_KEY</code>, <code>BAIDU_KEY</code>, <code>TOMTOM_KEY</code>, <code>MAPBOX_KEY</code>, <code>HERE_KEY</code>, <code>ORS_KEY</code>) stored in the <code>integration-remote</code> environment.</li> <li>Usage: Trigger manually when you want to validate against real APIs. Consider restricting environment access to maintainers.</li> </ul>"},{"location":"api/","title":"API Reference","text":"<p>Auto-generated API documentation from source code docstrings.</p>"},{"location":"api/#routers","title":"Routers","text":"<ul> <li>GoogleRouter - Google Maps routing</li> <li>OSRMRouter - OSRM public routing service</li> <li>BingRouter - Bing Maps routing</li> <li>EsriRouter - ESRI/ArcGIS routing</li> <li>OSMNXRouter - Local OSMnx routing</li> </ul>"},{"location":"api/#base-classes","title":"Base Classes","text":"<ul> <li>Base Classes - BaseRouter, WebRouter, LocalRouter, Route classes</li> </ul>"},{"location":"api/#utilities","title":"Utilities","text":"<ul> <li>Utils - Helper functions</li> </ul>"},{"location":"api/baidu/","title":"Table of Contents","text":"<ul> <li>georouting.routers.baidu</li> <li>BaiduRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> <li>get_distances_batch</li> </ul> </li> </ul>"},{"location":"api/baidu/#georoutingroutersbaidu","title":"georouting.routers.baidu","text":""},{"location":"api/baidu/#baidurouter-objects","title":"BaiduRouter Objects","text":"<pre><code>class BaiduRouter(WebRouter)\n</code></pre> <p>Baidu Maps router. The BaiduRouter class is a subclass of the WebRouter class and is used for routing using the Baidu Maps API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Baidu Maps API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"api/baidu/#parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Baidu Maps API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"api/baidu/#returns","title":"Returns","text":"<ul> <li><code>BaiduRouter</code> :     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/baidu/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/baidu/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/baidu/#returns_1","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/baidu/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe representing a distance matrix between the origins and destinations. It returns the duration and distance for all possible combinations between each origin and each destination.</p>"},{"location":"api/baidu/#parameters_2","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points (latitude, longitude).</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points (latitude, longitude).</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</p> </li> </ul>"},{"location":"api/baidu/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/baidu/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and distance for all the origins and destinations pairs. Use this function if you don't want to get duration and distance for all possible combinations.</p>"},{"location":"api/baidu/#parameters_3","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points (latitude, longitude).</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points (latitude, longitude).</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"api/baidu/#returns_3","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distances for each OD pair.</li> </ul>"},{"location":"api/base/","title":"Table of Contents","text":"<ul> <li>georouting.routers.base</li> <li>GoogleRoute<ul> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> </ul> </li> <li>BingRoute<ul> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> </ul> </li> <li>OSRMRoute<ul> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> </ul> </li> <li>EsriRoute</li> <li>BaiduRoute<ul> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> </ul> </li> <li>TomTomRoute<ul> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> </ul> </li> <li>MapboxRoute<ul> <li>get_route_geopandas</li> </ul> </li> <li>HereRoute<ul> <li>get_route_geopandas</li> </ul> </li> <li>ORSRoute<ul> <li>get_route_geopandas</li> </ul> </li> <li>Route<ul> <li>__init__</li> <li>get_duration</li> <li>get_distance</li> <li>get_route</li> <li>get_route_geopandas</li> <li>plot_route</li> </ul> </li> <li>BaseRouter<ul> <li>get_distances_batch</li> </ul> </li> <li>WebRouter</li> </ul>"},{"location":"api/base/#georoutingroutersbase","title":"georouting.routers.base","text":""},{"location":"api/base/#googleroute-objects","title":"GoogleRoute Objects","text":"<pre><code>class GoogleRoute()\n</code></pre> <p>The class \"GoogleRoute\" which allows to retrieve information from a route provided as an argument.</p> <p>The class has the following methods:</p> <ul> <li> <p><code>get_duration()</code>: Returns the duration of the route in seconds.</p> </li> <li> <p><code>get_distance()</code>: Returns the distance of the route in meters.</p> </li> <li> <p><code>get_route()</code>: Returns the complete route information.</p> </li> <li> <p><code>get_route_geopandas()</code>: Returns a GeoDataFrame with information such as distance, duration, and speed of each step in the route.</p> </li> </ul> <p>It is assumed that the polyline module is used for decoding the polyline into a LineString geometry. The GeoDataFrame is created with a specified coordinate reference system (CRS) of \"4326\".</p> <p></p>"},{"location":"api/base/#get_duration","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>Returns the duration of the route in seconds.</p> <p></p>"},{"location":"api/base/#get_distance","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>Returns the distance of the route in meters.</p> <p></p>"},{"location":"api/base/#get_route","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>Returns the complete route information.</p> <p></p>"},{"location":"api/base/#get_route_geopandas","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Returns a GeoDataFrame with information such as distance, duration, and speed of each step in the route. It is assumed that the polyline module is used for decoding the polyline into a LineString geometry. The GeoDataFrame is created with a specified coordinate reference system (CRS) of \"4326\".</p> <p></p>"},{"location":"api/base/#bingroute-objects","title":"BingRoute Objects","text":"<pre><code>class BingRoute()\n</code></pre> <p>BingRoute class that allows you to extract various information from a route stored in a dictionary. It has the following functions:</p> <ul> <li><code>get_duration()</code>: Returns the travel duration in seconds.</li> <li><code>get_distance()</code>: Returns the travel distance in meters.</li> <li><code>get_route()</code>: Returns the entire route in a dictionary.</li> <li><code>get_route_geopandas()</code>: Returns the route information in a GeoPandas dataframe.</li> </ul> <p>This function extracts the duration and distance information for each leg of the route, creates a list of shapely LineStrings representing the route, and then creates a GeoDataFrame with columns for the duration, distance, and geometry. Additionally, it calculates the speed in meters per second for each leg.</p> <p>The class is designed to work with data returned by the Bing Maps REST Services API, as the data is stored in a dictionary with a specific structure.</p> <p></p>"},{"location":"api/base/#get_duration_1","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>get the travel duration in seconds</p> <p></p>"},{"location":"api/base/#get_distance_1","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>get the travel distance in meters</p> <p></p>"},{"location":"api/base/#get_route_1","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>get the entire route in a dictionary</p> <p></p>"},{"location":"api/base/#get_route_geopandas_1","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>This function extracts the duration and distance information for each leg of the route, creates a list of shapely LineStrings representing the route, and then creates a GeoDataFrame with columns for the duration, distance, and geometry. Additionally, it calculates the speed in meters per second for each leg.</p> <p>Returns the route information in a GeoPandas dataframe.</p> <p></p>"},{"location":"api/base/#osrmroute-objects","title":"OSRMRoute Objects","text":"<pre><code>class OSRMRoute()\n</code></pre> <p>This class represents a route returned by the OpenStreetMap Routing Machine API.</p> <p>Methods:</p> <ul> <li><code>get_duration()</code> -&gt; float: Returns the duration of the route in seconds.</li> <li><code>get_distance()</code> -&gt; float: Returns the distance of the route in meters.</li> <li><code>get_route()</code> -&gt; dict: Returns the full route as a dictionary.</li> <li><code>get_route_geopandas()</code> -&gt; geopandas.GeoDataFrame: Returns the route as a GeoDataFrame. The GeoDataFrame contains columns for 'duration (s)', 'distance (m)', 'geometry', and 'speed (m/s)'.</li> </ul> <p></p>"},{"location":"api/base/#get_duration_2","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>Get the duration of the route in seconds.</p> <p></p>"},{"location":"api/base/#get_distance_2","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>Get the distance of the route in meters.</p> <p></p>"},{"location":"api/base/#get_route_2","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>Get the full route information as a dictionary.</p> <p></p>"},{"location":"api/base/#get_route_geopandas_2","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Get the route as a GeoDataFrame. The GeoDataFrame contains columns for 'duration (s)', 'distance (m)', 'geometry', and 'speed (m/s)'.</p> <p></p>"},{"location":"api/base/#esriroute-objects","title":"EsriRoute Objects","text":"<pre><code>class EsriRoute()\n</code></pre> <p>The EsriRoute class is a class for handling a route obtained from the Esri ArcGIS routing service.</p> <p>The class has the following methods:</p> <ul> <li> <p><code>get_duration</code>: returns the total travel time of the route.</p> </li> <li> <p><code>get_distance</code>: returns the total distance of the route in meters.</p> </li> <li> <p><code>get_route</code>: returns the entire route as a dictionary.</p> </li> <li> <p><code>get_route_geopandas</code>: raises a NotImplementedError. This method is not yet implemented and will be added in the future.</p> </li> </ul> <p></p>"},{"location":"api/base/#baiduroute-objects","title":"BaiduRoute Objects","text":"<pre><code>class BaiduRoute()\n</code></pre> <p>This class represents a route returned by the Baidu Maps Direction API.</p> <p>Methods:</p> <ul> <li><code>get_duration()</code> -&gt; float: Returns the duration of the route in seconds.</li> <li><code>get_distance()</code> -&gt; float: Returns the distance of the route in meters.</li> <li><code>get_route()</code> -&gt; dict: Returns the full route as a dictionary.</li> <li><code>get_route_geopandas()</code> -&gt; geopandas.GeoDataFrame: Returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/base/#get_duration_3","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>Get the duration of the route in seconds.</p> <p></p>"},{"location":"api/base/#get_distance_3","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>Get the distance of the route in meters.</p> <p></p>"},{"location":"api/base/#get_route_3","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>Get the full route information as a dictionary.</p> <p></p>"},{"location":"api/base/#get_route_geopandas_3","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Get the route as a GeoDataFrame. The GeoDataFrame contains columns for 'duration (s)', 'distance (m)', 'geometry', and 'speed (m/s)'.</p> <p></p>"},{"location":"api/base/#tomtomroute-objects","title":"TomTomRoute Objects","text":"<pre><code>class TomTomRoute()\n</code></pre> <p>This class represents a route returned by the TomTom Routing API.</p> <p>Methods:</p> <ul> <li><code>get_duration()</code> -&gt; float: Returns the duration of the route in seconds.</li> <li><code>get_distance()</code> -&gt; float: Returns the distance of the route in meters.</li> <li><code>get_route()</code> -&gt; dict: Returns the full route as a dictionary.</li> <li><code>get_route_geopandas()</code> -&gt; geopandas.GeoDataFrame: Returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/base/#get_duration_4","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>Get the duration of the route in seconds.</p> <p></p>"},{"location":"api/base/#get_distance_4","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>Get the distance of the route in meters.</p> <p></p>"},{"location":"api/base/#get_route_4","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>Get the full route information as a dictionary.</p> <p></p>"},{"location":"api/base/#get_route_geopandas_4","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Get the route as a GeoDataFrame. The GeoDataFrame contains columns for 'duration (s)', 'distance (m)', 'geometry', and 'speed (m/s)'.</p> <p></p>"},{"location":"api/base/#mapboxroute-objects","title":"MapboxRoute Objects","text":"<pre><code>class MapboxRoute()\n</code></pre>"},{"location":"api/base/#get_route_geopandas_5","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Returns a GeoDataFrame with distance, duration, and speed for the route legs.</p> <p></p>"},{"location":"api/base/#hereroute-objects","title":"HereRoute Objects","text":"<pre><code>class HereRoute()\n</code></pre>"},{"location":"api/base/#get_route_geopandas_6","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Build a GeoDataFrame from the first route leg's shape coordinates.</p> <p></p>"},{"location":"api/base/#orsroute-objects","title":"ORSRoute Objects","text":"<pre><code>class ORSRoute()\n</code></pre> <p>OpenRouteService route wrapper.</p> <p></p>"},{"location":"api/base/#get_route_geopandas_7","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Returns a GeoDataFrame with distance, duration, and speed.</p> <p></p>"},{"location":"api/base/#route-objects","title":"Route Objects","text":"<pre><code>class Route(object)\n</code></pre> <p>A wrapper class that wraps different routing engines' route objects.</p> <p>It will return a Route object that can be used to get the duration, distance, and route information.</p> <p>The class has the following methods:</p> <ul> <li> <p><code>get_duration()</code>: Returns the duration of the route in seconds.</p> </li> <li> <p><code>get_distance()</code>: Returns the distance of the route in meters.</p> </li> <li> <p><code>get_route()</code>: Returns the complete route information.</p> </li> <li> <p><code>get_route_geopandas()</code>: Returns a GeoDataFrame with information such as distance, duration, and speed of each step in the route.</p> </li> </ul> <p></p>"},{"location":"api/base/#__init__","title":"__init__","text":"<pre><code>def __init__(route, origin, destination)\n</code></pre> <p>Initialize a Route object by passing the routing engine's route object.</p> <p>Arguments:</p> <ul> <li><code>route</code>: An instance of a routing engine's route object</li> </ul> <p></p>"},{"location":"api/base/#get_duration_5","title":"get_duration","text":"<pre><code>def get_duration()\n</code></pre> <p>Get the duration of the route.</p> <p></p>"},{"location":"api/base/#get_distance_5","title":"get_distance","text":"<pre><code>def get_distance()\n</code></pre> <p>Get the distance of the route.</p> <p></p>"},{"location":"api/base/#get_route_5","title":"get_route","text":"<pre><code>def get_route()\n</code></pre> <p>Get the raw route information.</p> <p></p>"},{"location":"api/base/#get_route_geopandas_8","title":"get_route_geopandas","text":"<pre><code>def get_route_geopandas()\n</code></pre> <p>Get the route information as a GeoDataFrame.</p> <p></p>"},{"location":"api/base/#plot_route","title":"plot_route","text":"<pre><code>def plot_route()\n</code></pre> <p>Plot the route on a map.</p> <p></p>"},{"location":"api/base/#baserouter-objects","title":"BaseRouter Objects","text":"<pre><code>class BaseRouter(object)\n</code></pre> <p>The class BaseRouter serves as a base class for routers, which are used to compute the optimal route between two points. The class has an instance variable mode, which is a string that defines the mode of transportation (e.g. \"driving\").</p> <p>The BaseRouter class has a single method _get_OD_matrix, which takes two arguments origins and destinations and returns an origin-destination matrix. The method creates an empty list items and loops through each origin and destination pair, appending the concatenated origin and destination to the list. The origin-destination matrix is then created from the list items and returned.</p> <p></p>"},{"location":"api/base/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins,\n                        destinations,\n                        max_batch_size=25,\n                        append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p> <p></p>"},{"location":"api/base/#webrouter-objects","title":"WebRouter Objects","text":"<pre><code>class WebRouter(BaseRouter)\n</code></pre> <p>The WebRouter class is a class for handling a route obtained from a web-based routing service.</p>"},{"location":"api/bing/","title":"Table of Contents","text":"<ul> <li>georouting.routers.bing</li> <li>BingRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> <li>get_distances_batch</li> </ul> </li> </ul>"},{"location":"api/bing/#georoutingroutersbing","title":"georouting.routers.bing","text":""},{"location":"api/bing/#bingrouter-objects","title":"BingRouter Objects","text":"<pre><code>class BingRouter(WebRouter)\n</code></pre> <p>Bing Maps router. The BingRouter class is a subclass of the WebRouter class and is used for routing using the Bing Maps API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Bing Maps API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"api/bing/#parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Bing Maps API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"api/bing/#returns","title":"Returns","text":"<ul> <li><code>BingRouter</code> :     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/bing/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/bing/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/bing/#returns_1","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/bing/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p> <p>The Bing Maps API has the following limitations for distance matrix requests, for more information see here:</p> <ul> <li>For travel mode driving a distance matrix that has up to 2,500 origins-destinations pairs can be requested for Basic Bing Maps accounts,</li> <li>while for Enterprise Bing Maps accounts the origin-destination pairs limit is 10,000.</li> <li>For travel mode transit and walking, a distance matrix that has up to 650 origins-destinations pairs can be request for all Bing Maps account types.</li> </ul> <p>Pairs are calculated by multiplying the number of origins, by the number of destinations. For example 10,000 origin-destination pairs can be reached if you have: 1 origin, and 10,000 destinations, or 100 origins and 100 destinations defined in your request.</p>"},{"location":"api/bing/#parameters_2","title":"Parameters","text":"<ul> <li><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</li> <li><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</li> <li><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</li> </ul>"},{"location":"api/bing/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/bing/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"api/bing/#parameters_3","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"api/bing/#returns_3","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/esri/","title":"Table of Contents","text":"<ul> <li>georouting.routers.esri</li> <li>EsriRouter<ul> <li>__init__</li> <li>get_route</li> <li>get_distance_matrix</li> </ul> </li> </ul>"},{"location":"api/esri/#georoutingroutersesri","title":"georouting.routers.esri","text":""},{"location":"api/esri/#esrirouter-objects","title":"EsriRouter Objects","text":"<pre><code>class EsriRouter(WebRouter)\n</code></pre> <p>Esri router. The EsriRouter class is a subclass of the WebRouter class and is used for routing using the Esri ArcGIS API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Esri ArcGIS API. It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"api/esri/#parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Esri ArcGIS API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"api/esri/#returns","title":"Returns","text":"<ul> <li><code>EsriRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/esri/#__init__","title":"__init__","text":"<pre><code>def __init__(api_key, mode=\"driving\", timeout=10, language=\"en\")\n</code></pre> <p>This is the constructor method for the EsriRouter class. It initializes the class by calling the super() method and setting up the Client object of the Esri ArcGIS API using the provided api_key. The mode parameter sets the routing mode, which can be either \"driving\" or \"walking\". The timeout parameter sets the timeout in seconds for API requests, and the language parameter sets the language to be used in API requests.</p> <p></p>"},{"location":"api/esri/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/esri/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/esri/#returns_1","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/esri/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a distance matrix between the origins and destinations. The origins and destinations parameters are lists of tuples/lists/arrays representing the starting and ending points for the route. The orgins and destinations parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/esri/#parameters_2","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : list of iterable objects     The origin points. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destinations</code> : list of iterable objects     The destination points. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>append_od</code> : bool     If True, the origins and destinations will be appended to the distance matrix as the first two columns.</p> </li> </ul>"},{"location":"api/esri/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : list of lists     The distance matrix between the origins and destinations.</li> </ul>"},{"location":"api/google/","title":"Table of Contents","text":"<ul> <li>georouting.routers.google</li> <li>GoogleRouter<ul> <li>__init__</li> <li>get_route</li> <li>get_distance_matrix</li> <li>get_distances_batch</li> </ul> </li> </ul>"},{"location":"api/google/#georoutingroutersgoogle","title":"georouting.routers.google","text":""},{"location":"api/google/#googlerouter-objects","title":"GoogleRouter Objects","text":"<pre><code>class GoogleRouter(WebRouter)\n</code></pre> <p>Google Map router. The GoogleRouter class is a subclass of the WebRouter class and is used for routing using the Google Maps API. This class is designed to provide a convenient and easy-to-use interface for interacting with the Google Maps API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"api/google/#parameters","title":"Parameters","text":"<ul> <li> <p><code>api_key</code> : str     The API key for the Google Maps API.</p> </li> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests.</p> </li> </ul>"},{"location":"api/google/#returns","title":"Returns","text":"<ul> <li><code>GoogleRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/google/#__init__","title":"__init__","text":"<pre><code>def __init__(api_key, mode=\"driving\", timeout=10, language=\"en\")\n</code></pre> <p>This is the constructor method for the GoogleRouter class. It initializes the class by calling the super() method and setting up the Client object of the Google Maps API using the provided api_key. The mode parameter sets the routing mode, which can be either \"driving\" or \"walking\". The timeout parameter sets the timeout in seconds for API requests, and the language parameter sets the language to be used in API requests.</p> <p></p>"},{"location":"api/google/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/google/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/google/#returns_1","title":"Returns","text":"<p><code>route</code> : Route object     The route between the origin and destination.</p> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/google/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p> <p>Google Maps API has following limitations for distance matrix requests: the following usage limits are in place for the Distance Matrix API, for more information, see in google maps api documentation:</p> <ul> <li>Maximum of 25 origins or 25 destinations per request.</li> <li>Maximum 100 elements per server-side request.</li> <li>Maximum 100 elements per client-side request.</li> <li>1000 elements per second (EPS), calculated as the sum of client-side and server-side queries.</li> </ul>"},{"location":"api/google/#parameters_2","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</p> </li> </ul>"},{"location":"api/google/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> <p>Here is an example of how to use this method: TODO: add example</p> <p></p>"},{"location":"api/google/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"api/google/#parameters_3","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"api/google/#returns_3","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/here/","title":"Table of Contents","text":"<ul> <li>georouting.routers.here</li> <li>HereRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> </ul> </li> </ul>"},{"location":"api/here/#georoutingroutershere","title":"georouting.routers.here","text":""},{"location":"api/here/#hererouter-objects","title":"HereRouter Objects","text":"<pre><code>class HereRouter(WebRouter)\n</code></pre> <p>HERE router (Routing API 7.2). Provides route and matrix queries.</p> <p></p>"},{"location":"api/here/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>Return a Route object representing the route between origin and destination.</p> <p></p>"},{"location":"api/here/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>Return duration/distance for all origin-destination pairs.</p>"},{"location":"api/mapbox/","title":"Table of Contents","text":"<ul> <li>georouting.routers.mapbox</li> <li>MapboxRouter</li> </ul>"},{"location":"api/mapbox/#georoutingroutersmapbox","title":"georouting.routers.mapbox","text":""},{"location":"api/mapbox/#mapboxrouter-objects","title":"MapboxRouter Objects","text":"<pre><code>class MapboxRouter(WebRouter)\n</code></pre> <p>Mapbox router.</p> <p>Uses Mapbox Directions and Matrix APIs to fetch routes and distance matrices.</p>"},{"location":"api/openrouteservice/","title":"Table of Contents","text":"<ul> <li>georouting.routers.openrouteservice</li> <li>ORSRouter</li> </ul>"},{"location":"api/openrouteservice/#georoutingroutersopenrouteservice","title":"georouting.routers.openrouteservice","text":""},{"location":"api/openrouteservice/#orsrouter-objects","title":"ORSRouter Objects","text":"<pre><code>class ORSRouter(WebRouter)\n</code></pre> <p>OpenRouteService router for directions and matrix endpoints.</p>"},{"location":"api/osmnx/","title":"Table of Contents","text":"<ul> <li>georouting.routers.osmnx</li> <li>OSMNXRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> <li>get_distances_batch</li> </ul> </li> </ul>"},{"location":"api/osmnx/#georoutingroutersosmnx","title":"georouting.routers.osmnx","text":""},{"location":"api/osmnx/#osmnxrouter-objects","title":"OSMNXRouter Objects","text":"<pre><code>class OSMNXRouter(object)\n</code></pre> <p>OSMnx router for local routing using OpenStreetMap data.</p> <p>This router downloads road network data from OpenStreetMap and performs routing calculations locally without requiring an API key.</p>"},{"location":"api/osmnx/#parameters","title":"Parameters","text":"<ul> <li><code>area</code> : str     The area to download road network for (e.g., \"Piedmont, California, USA\")</li> <li><code>mode</code> : str     The routing mode. Can be \"driving\", \"drive\", \"walking\", \"walk\", \"biking\", \"bike\"</li> <li><code>engine</code> : str     The graph engine to use. Currently supports \"networkx\". \"igraph\" support planned.</li> <li><code>use_cache</code> : bool     Whether to cache downloaded road network data</li> <li><code>log_console</code> : bool     Whether to log OSMnx messages to console</li> </ul>"},{"location":"api/osmnx/#returns","title":"Returns","text":"<ul> <li><code>OSMNXRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/osmnx/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object representing the route between the origin and destination points. The origin and destination parameters are tuples/list/arrays representing the starting and ending points for the route. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/osmnx/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/osmnx/#returns_1","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/osmnx/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p> <p>Note: Since this router performs local calculations, there are no API rate limits. However, very large matrices may be slow to compute depending on the road network size.</p>"},{"location":"api/osmnx/#parameters_2","title":"Parameters","text":"<ul> <li><code>origins</code> : iterable objects An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc. It should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</li> <li><code>destinations</code> : iterable objects An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc. It should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</li> <li><code>append_od</code> : bool If True, the method also returns a matrix of origin-destination pairs.</li> </ul>"},{"location":"api/osmnx/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/osmnx/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"api/osmnx/#parameters_3","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"api/osmnx/#returns_3","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/osrm/","title":"Table of Contents","text":"<ul> <li>georouting.routers.osrm</li> <li>OSRMRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> <li>get_distances_batch</li> </ul> </li> </ul>"},{"location":"api/osrm/#georoutingroutersosrm","title":"georouting.routers.osrm","text":""},{"location":"api/osrm/#osrmrouter-objects","title":"OSRMRouter Objects","text":"<pre><code>class OSRMRouter(WebRouter)\n</code></pre> <p>OSRM router. The OSRMRouter class is a subclass of the WebRouter class and is used for routing using the OSRM API. This class is designed to provide a convenient and easy-to-use interface for interacting with the OSRM API.</p> <p>It will return a router object that can be used to get routes and distance matrices.</p>"},{"location":"api/osrm/#parameters","title":"Parameters","text":"<ul> <li> <p><code>mode</code> : str     The routing mode. Can be either \"driving\" or \"walking\". Default is \"driving\".</p> </li> <li> <p><code>timeout</code> : int     The timeout in seconds for API requests. Default is 10.</p> </li> <li> <p><code>language</code> : str     The language to be used in API requests. Default is \"en\".</p> </li> <li> <p><code>base_url</code> : str     The base URL for the OSRM API. Default is \"http://router.project-osrm.org\".</p> </li> </ul>"},{"location":"api/osrm/#returns","title":"Returns","text":"<ul> <li><code>OSRMRouter</code>:     A router object that can be used to get routes and distance matrices.</li> </ul>"},{"location":"api/osrm/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>This method returns a Route object contains duration and disatnce for the route between the given origin and destination coordinates. The origin and destination parameters are lists of latitude and longitude coordinates. The orgin and destination parameters should be in the form of iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude].</p>"},{"location":"api/osrm/#parameters_1","title":"Parameters","text":"<ul> <li> <p><code>origin</code> : iterable objects     The origin point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> <li> <p><code>destination</code> : iterable objects     The destination point. Iterable objects with two elements, such as (latitude, longitude) or [latitude, longitude]</p> </li> </ul>"},{"location":"api/osrm/#returns_1","title":"Returns","text":"<ul> <li><code>route</code> : Route object     The route between the origin and destination.</li> </ul> <p>The returned Route object has the following functions:</p> <ul> <li><code>get_distance()</code> returns the distance of the route in meters.</li> <li><code>get_duration()</code> returns the duration of the route in seconds.</li> <li><code>get_route()</code> returns the raw route data returned as a dictionary.</li> <li><code>get_route_geodataframe()</code> returns the route as a GeoDataFrame.</li> </ul> <p></p>"},{"location":"api/osrm/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>This method returns a Pandas dataframe representing a distance matrix between the <code>origins</code> and <code>destinations</code> points. It returns the duration and distance for all possible combinations between each origin and each destination. If you want just return the duration and distance for specific origin-destination pairs, use the <code>get_distances_batch</code> method.</p> <p>The origins and destinations parameters are lists of origins and destinations.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns a matrix of origin-destination pairs.</p>"},{"location":"api/osrm/#parameters_2","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns a matrix of origin-destination pairs.</p> </li> </ul>"},{"location":"api/osrm/#returns_2","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul> <p>Here is an example of how to use this method: TODO: add example</p> <p></p>"},{"location":"api/osrm/#get_distances_batch","title":"get_distances_batch","text":"<pre><code>def get_distances_batch(origins,\n                        destinations,\n                        append_od=False,\n                        use_local_server=False)\n</code></pre> <p>This method returns a Pandas dataframe contains duration and disatnce for all the <code>origins</code> and <code>destinations</code> pairs. Use this function if you don't want to get duration and distance for all possible combinations between each origin and each destination.</p> <p>The origins and destinations parameters are lists of origin-destination pairs. They should be the same length.</p> <p>If the <code>append_od</code> parameter is set to True, the method also returns the input origin-destination pairs.</p>"},{"location":"api/osrm/#parameters_3","title":"Parameters","text":"<ul> <li> <p><code>origins</code> : iterable objects     An iterable object containing the origin points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>destinations</code> : iterable objects     An iterable object containing the destination points. It can be a list of tuples, a list of lists, a list of arrays, etc.     It should be in the form of iterable objects with two elements, such as     (latitude, longitude) or [latitude, longitude].</p> </li> <li> <p><code>append_od</code> : bool     If True, the method also returns the input origin-destination pairs.</p> </li> </ul>"},{"location":"api/osrm/#returns_3","title":"Returns","text":"<ul> <li><code>distance_matrix</code> : pandas.DataFrame     A pandas DataFrame containing the distance matrix.</li> </ul>"},{"location":"api/tomtom/","title":"Table of Contents","text":"<ul> <li>georouting.routers.tomtom</li> <li>TomTomRouter<ul> <li>get_route</li> <li>get_distance_matrix</li> </ul> </li> </ul>"},{"location":"api/tomtom/#georoutingrouterstomtom","title":"georouting.routers.tomtom","text":""},{"location":"api/tomtom/#tomtomrouter-objects","title":"TomTomRouter Objects","text":"<pre><code>class TomTomRouter(WebRouter)\n</code></pre> <p>TomTom router.</p> <p>Provides access to TomTom Routing and Matrix APIs to retrieve routes and distance matrices with a unified interface.</p> <p></p>"},{"location":"api/tomtom/#get_route","title":"get_route","text":"<pre><code>def get_route(origin, destination)\n</code></pre> <p>Return a Route object representing the path between origin and destination.</p> <p></p>"},{"location":"api/tomtom/#get_distance_matrix","title":"get_distance_matrix","text":"<pre><code>def get_distance_matrix(origins, destinations, append_od=False)\n</code></pre> <p>Return a Pandas dataframe of durations and distances for all origin/destination pairs.</p>"},{"location":"api/utils/","title":"Table of Contents","text":"<ul> <li>georouting.utils</li> <li>convert_to_list</li> <li>get_batch_od_pairs</li> <li>build_geofabrik_region_index</li> <li>build_geofabrik_catalog</li> <li>resolve_geofabrik_pbf</li> <li>render_osrm_dockerfile</li> <li>write_osrm_dockerfile</li> <li>build_osrm_image</li> <li>run_osrm_container</li> <li>build_and_run_osrm</li> </ul>"},{"location":"api/utils/#georoutingutils","title":"georouting.utils","text":""},{"location":"api/utils/#convert_to_list","title":"convert_to_list","text":"<pre><code>def convert_to_list(data)\n</code></pre> <p>This function converts the data to a list.</p> <p></p>"},{"location":"api/utils/#get_batch_od_pairs","title":"get_batch_od_pairs","text":"<pre><code>def get_batch_od_pairs(orgins, destinations, max_batch_size=25)\n</code></pre> <p>This function returns a list of dataframes containing the origin-destination pairs to avoid the repeated requests to the travel distance API.</p> <p></p>"},{"location":"api/utils/#build_geofabrik_region_index","title":"build_geofabrik_region_index","text":"<pre><code>def build_geofabrik_region_index(cache_path=DEFAULT_GEOFABRIK_CACHE,\n                                 refresh=False,\n                                 include_sizes=False,\n                                 regions=None,\n                                 verbose=False,\n                                 size_timeout=10,\n                                 prefer_html=False)\n</code></pre> <p>Build a mapping of region slug -&gt; {url, size_bytes?, size_gb?} using Geofabrik index-v1.json. Saves to cache_path (JSON) for reuse unless refresh=True.</p> <p></p>"},{"location":"api/utils/#build_geofabrik_catalog","title":"build_geofabrik_catalog","text":"<pre><code>def build_geofabrik_catalog(cache_path=DEFAULT_GEOFABRIK_CATALOG,\n                            refresh=False,\n                            include_sizes=True,\n                            regions=None,\n                            size_timeout=10,\n                            verbose=False,\n                            prefer_html=True)\n</code></pre> <p>Return a list of all Geofabrik PBF datasets with URLs (and sizes if requested). Caches the result to JSON for reuse.</p> <p></p>"},{"location":"api/utils/#resolve_geofabrik_pbf","title":"resolve_geofabrik_pbf","text":"<pre><code>def resolve_geofabrik_pbf(region, refresh=True, include_size=False)\n</code></pre> <p>Resolve a region string to a Geofabrik PBF URL using the catalog; fallback to slug/path.</p> <p></p>"},{"location":"api/utils/#render_osrm_dockerfile","title":"render_osrm_dockerfile","text":"<pre><code>def render_osrm_dockerfile(region=\"north-america/us/massachusetts\",\n                           port=DEFAULT_OSRM_PORT,\n                           base_image=DEFAULT_OSRM_BASE_IMAGE,\n                           auto_fetch=True,\n                           prefer_html=True,\n                           size_timeout=10,\n                           profile=\"car\")\n</code></pre> <p>Render a Dockerfile string for an OSRM backend for the given region/profile.</p>"},{"location":"api/utils/#parameters","title":"Parameters","text":"<p>region : str     Geofabrik region slug/path (e.g., \"north-america/us/massachusetts\"). port : int     Port to expose in the container. base_image : str     OSRM base image to use. auto_fetch : bool     If True, refresh Geofabrik index when resolving region. prefer_html : bool     Unused here; kept for parity with resolver options. size_timeout : int     Timeout (seconds) for size resolution (currently unused in rendering). profile : str     OSRM profile name or path (e.g., \"car\", \"foot\", \"bicycle\" or a lua path).</p> <p></p>"},{"location":"api/utils/#write_osrm_dockerfile","title":"write_osrm_dockerfile","text":"<pre><code>def write_osrm_dockerfile(path=\"Dockerfile\", **kwargs)\n</code></pre> <p>Write the rendered OSRM Dockerfile to disk and print a preview.</p> <p></p>"},{"location":"api/utils/#build_osrm_image","title":"build_osrm_image","text":"<pre><code>def build_osrm_image(tag=\"osrm-backend\",\n                     dockerfile_path=\"Dockerfile\",\n                     context=\".\")\n</code></pre> <p>Build the OSRM Docker image using the given Dockerfile and context.</p> <p></p>"},{"location":"api/utils/#run_osrm_container","title":"run_osrm_container","text":"<pre><code>def run_osrm_container(tag=\"osrm-backend\",\n                       port=DEFAULT_OSRM_PORT,\n                       detach=True,\n                       extra_args=None)\n</code></pre> <p>Run the OSRM container exposing the selected port.</p> <p></p>"},{"location":"api/utils/#build_and_run_osrm","title":"build_and_run_osrm","text":"<pre><code>def build_and_run_osrm(region=\"north-america/us/massachusetts\",\n                       port=DEFAULT_OSRM_PORT,\n                       tag=\"osrm-backend\",\n                       dockerfile_path=None,\n                       context=None,\n                       auto_fetch=True,\n                       prefer_html=True,\n                       size_timeout=10,\n                       detach=True,\n                       extra_run_args=None,\n                       base_image=DEFAULT_OSRM_BASE_IMAGE,\n                       profile=\"car\")\n</code></pre> <p>One-shot: write Dockerfile, build image, run container for the given region.</p>"}]}